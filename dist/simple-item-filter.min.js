"use strict";function SimpleItemFilter(e){function s(e,s){return new RegExp("(\\s|^)"+s+"(\\s|$)").test(e.className)}function i(e,i){s(e,i)||(e.className+=(e.className?" ":"")+i)}function t(e,i){s(e,i)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+i+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))}var a=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=[],l=[],r=[];Object.defineProperty(this,"group",{value:e}),Object.defineProperty(this,"prefix",{value:"prefix"in n?n.prefix:"sf"}),Object.defineProperty(this,"activeClass",{value:"activeClass"in n?n.activeClass:this.prefix+"-active"}),Object.defineProperty(this,"hiddenClass",{value:"hiddenClass"in n?n.hiddenClass:this.prefix+"-hidden"}),Object.defineProperty(this,"multiselect",{value:"multiselect"in n&&n.multiselect}),Object.defineProperty(this,"fade",{value:"fade"in n&&n.fade}),Object.defineProperty(this,"fadeClass",{value:"fadeClass"in n?n.fadeClass:this.prefix+"-fade"}),Object.defineProperty(this,"toggle",{value:!("toggle"in n)||n.toggle}),Object.defineProperty(this,"btnFn",{value:"btnFn"in n?n.btnFn:void 0});var f=this.prefix+"-btn-primary",o=this.prefix+"-btn-secondary",u=function(e,s){var i=[];return s.forEach(function(s){s.attributes.class.value.split(/\s+/).includes(e)&&i.push(s)}),i},d=function(e,s){var i="";return s.forEach(function(s){s.startsWith(e)&&(i=s)}),i},p=function(e,s){var n=u(f,c),p=u(o,c),h=u(a.prefix+"-item",c),v=u(a.activeClass,n),C=u(a.activeClass,p);v.forEach(function(e){a.activeClass in e.classList&&l.push(d(a.prefix+"-f-"))}),C.forEach(function(e){a.activeClass in e.classList&&r.push(d(a.prefix+"-f-"))});var g=d(a.prefix+"-f-",e.currentTarget.classList);g===a.prefix+"-f-all"?"primary"===s?l=[]:"secondary"===s&&(r=[]):"primary"===s?a.toggle?l.includes(g)?l.splice(l.lastIndexOf(g),1):(a.multiselect||(l=[]),l.push(g)):(a.multiselect||(l=[]),l.includes(g)||l.push(g)):"secondary"===s&&(a.toggle?r.includes(g)?(r[r.lastIndexOf(g)]=void 0,r.sort().pop()):(a.multiselect||(r=[]),r.push(g)):(a.multiselect||(r=[]),r.includes(g)||r.push(g)));var m=0===l.length,x=0===r.length;n.forEach(function(e){if(t(e,a.activeClass),a.fade&&i(e,a.fadeClass),m)t(e,a.fadeClass);else{var s=d(a.prefix+"-f-",e.classList);l.forEach(function(n){s.includes(n)&&(i(e,a.activeClass),t(e,a.fadeClass))})}}),p.forEach(function(e){if(t(e,a.activeClass),a.fade&&i(e,a.fadeClass),x)t(e,a.fadeClass);else{var s=d(a.prefix+"-f-",e.classList);r.forEach(function(n){s.includes(n)&&(i(e,a.activeClass),t(e,a.fadeClass))})}}),h.forEach(function(e){i(e,a.hiddenClass)}),h.forEach(function(e){e.classList.forEach(function(s){(l.includes(s)||m)&&e.classList.forEach(function(s){(r.includes(s)||x)&&t(e,a.hiddenClass)})})})},h=function(e){return function(s){void 0!==a.btnFn?a.btnFn(s)&&p(s,e):p(s,e)}};c=Array.prototype.slice.call(document.querySelectorAll("."+this.prefix+"-g-"+this.group));var v=u(f,c),C=u(o,c);v.forEach(function(e){e.addEventListener("click",h("primary"),!1)}),C.forEach(function(e){e.addEventListener("click",h("secondary"),!1)})}